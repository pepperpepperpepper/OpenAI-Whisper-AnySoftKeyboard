# Settings taxonomy (UI overhaul inventory)

This document inventories user-facing adjustable settings in the Settings UI, as implemented by `MainSettingsActivity` + the Navigation graph.

_Generated by `scripts/generate_settings_taxonomy.py`. Edit the generator if you need to change structure._

## Navigation

Bottom navigation (from `ime/app/src/main/res/menu/bottom_navigation_main.xml`):

- Home (`mainFragment`)
- Language (`languageSettingsFragment`)
- UI (`userInterfaceSettingsFragment`)
- Gestures (`gesturesSettingsFragment`)
- Quick keys (`quickTextKeysBrowseFragment`)

Nav destinations (from `ime/app/src/main/res/navigation/settings_main.xml`):

- `@+id/mainFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.MainFragment`
- `@+id/languageSettingsFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.LanguageSettingsFragment`
- `@+id/speechToTextSettingsFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.SpeechToTextSettingsFragment`
- `@+id/openAISpeechSettingsFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.OpenAISpeechSettingsFragment`
- `@+id/elevenLabsSpeechSettingsFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.ElevenLabsSpeechSettingsFragment`
- `@+id/userInterfaceSettingsFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.UserInterfaceSettingsFragment`
- `@+id/gesturesSettingsFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.GesturesSettingsFragment`
- `@+id/quickTextKeysBrowseFragment` → `wtf.uhoh.newsoftkeyboard.app.quicktextkeys.ui.QuickTextKeysBrowseFragment`
- `@+id/aboutNewSoftKeyboardFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.AboutNewSoftKeyboardFragment`
- `@+id/mainTweaksFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.MainTweaksFragment`
- `@+id/additionalSoftwareLicensesFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.AboutNewSoftKeyboardFragment$AdditionalSoftwareLicensesFragment`
- `@+id/developerToolsFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.dev.DeveloperToolsFragment`
- `@+id/keyboardAddOnBrowserFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.KeyboardAddOnBrowserFragment`
- `@+id/dictionariesFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.DictionariesFragment`
- `@+id/additionalLanguageSettingsFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.AdditionalLanguageSettingsFragment`
- `@+id/userDictionaryEditorFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.wordseditor.UserDictionaryEditorFragment`
- `@+id/abbreviationDictionaryEditorFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.wordseditor.AbbreviationDictionaryEditorFragment`
- `@+id/nextWordSettingsFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.NextWordSettingsFragment`
- `@+id/presageModelsFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.PresageModelsFragment`
- `@+id/languageTweaksFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.LanguageTweaksFragment`
- `@+id/keyboardThemeSelectorFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.KeyboardThemeSelectorFragment`
- `@+id/effectsSettingsFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.EffectsSettingsFragment`
- `@+id/additionalUiSettingsFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.AdditionalUiSettingsFragment`
- `@+id/keyboardThemeTweaksFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.KeyboardThemeTweaksFragment`
- `@+id/powerSavingSettingsFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.PowerSavingSettingsFragment`
- `@+id/nightModeSettingsFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.NightModeSettingsFragment`
- `@+id/uiTweaksFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.UiTweaksFragment`
- `@+id/extensionAddOnBrowserFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.AdditionalUiSettingsFragment$ExtensionAddOnBrowserFragment`
- `@+id/topRowAddOnBrowserFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.AdditionalUiSettingsFragment$TopRowAddOnBrowserFragment`
- `@+id/bottomRowAddOnBrowserFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.AdditionalUiSettingsFragment$BottomRowAddOnBrowserFragment`
- `@+id/quickTextSettingsFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.settings.QuickTextSettingsFragment`
- `@+id/logCatViewFragment` → `wtf.uhoh.newsoftkeyboard.app.ui.dev.LogCatViewFragment`
- `@+id/fullChangeLogFragment` → `wtf.uhoh.newsoftkeyboard.releaseinfo.ChangeLogFragment$FullChangeLogFragment`

## Preference screens (by UI path)

### Gestures → Gesture settings

- Fragment: `GesturesSettingsFragment`
- XML: `ime/app/src/main/res/xml/prefs_gestures_prefs.xml`

#### Gesture-Typing ➿

- Enable gesture-typing [BETA] (key: `settings_key_gesture_typing (from @string/settings_key_gesture_typing)`; type: `CheckBoxPreference`; default: `false`)

#### Gestures

- Swipe up (key: `settings_key_swipe_up_action (from @string/settings_key_swipe_up_action)`; type: `ListPreference`; default: `shift`)
- Swipe down (key: `settings_key_swipe_down_action (from @string/settings_key_swipe_down_action)`; type: `ListPreference`; default: `hide`)
- Swipe left (key: `settings_key_swipe_left_action (from @string/settings_key_swipe_left_action)`; type: `ListPreference`; default: `next_symbols`)
- Swipe right (key: `settings_key_swipe_right_action (from @string/settings_key_swipe_right_action)`; type: `ListPreference`; default: `next_alphabet`)
- Space bar swipe left (key: `settings_key_swipe_left_space_bar_action (from @string/settings_key_swipe_left_space_bar_action)`; type: `ListPreference`; default: `next_symbols`)
- Space bar swipe right (key: `settings_key_swipe_right_space_bar_action (from @string/settings_key_swipe_right_space_bar_action)`; type: `ListPreference`; default: `next_alphabet`)
- Two fingers swipe left (key: `settings_key_swipe_left_two_fingers_action (from @string/settings_key_swipe_left_two_fingers_action)`; type: `ListPreference`; default: `next_symbols`)
- Two fingers swipe right (key: `settings_key_swipe_right_two_fingers_action (from @string/settings_key_swipe_right_two_fingers_action)`; type: `ListPreference`; default: `next_alphabet`)
- Swipe spacebar up (key: `settings_key_swipe_up_from_spacebar_action (from @string/settings_key_swipe_up_from_spacebar_action)`; type: `ListPreference`; default: `utility_keyboard`)
- Pinch gesture (key: `settings_key_pinch_gesture_action (from @string/settings_key_pinch_gesture_action)`; type: `ListPreference`; default: `merge_layout`)
- Stretch gesture (key: `settings_key_separate_gesture_action (from @string/settings_key_separate_gesture_action)`; type: `ListPreference`; default: `split_layout`)
- Swipe velocity threshold (key: `settings_key_swipe_velocity_threshold (from @string/settings_key_swipe_velocity_threshold)`; type: `ListPreference`; default: `380`)
- Swipe distance threshold (key: `settings_key_swipe_distance_threshold (from @string/settings_key_swipe_distance_threshold)`; type: `ListPreference`; default: `140`)

### Language → Dictionaries

- Fragment: `DictionariesFragment`
- XML: `ime/app/src/main/res/xml/prefs_dictionaries.xml`

#### (Ungrouped)

- (static) Suggestion dictionaries used in New Soft Keyboard (key: `summary`; type: `Preference`)
- Show suggestions (key: `candidates_on`; type: `SwitchPreferenceCompat`; default: `true`)
- User-dictionary (key: `settings_key_use_user_dictionary (from @string/settings_key_use_user_dictionary)`; type: `CheckBoxPreference`; default: `true`; depends on: `candidates_on`)
- (action) Words editor (key: `user_dict_editor_key (from @string/user_dict_editor_key)`; type: `Preference`; depends on: `candidates_on`)
- (action) Next Word settings (key: `next_word_dict_settings_key (from @string/next_word_dict_settings_key)`; type: `Preference`; depends on: `candidates_on`)
- (action) Abbreviation editor (key: `abbreviation_dict_editor_key (from @string/abbreviation_dict_editor_key)`; type: `Preference`; depends on: `quick_fix`)
- Auto dictionary (key: `settings_key_auto_dictionary_threshold (from @string/settings_key_auto_dictionary_threshold)`; type: `ListPreference`; default: `9`; depends on: `candidates_on`)
- Contacts dictionary (key: `settings_key_use_contacts_dictionary (from @string/settings_key_use_contacts_dictionary)`; type: `CheckBoxPreference`; default: `true`; depends on: `candidates_on`)

#### Grammar

- Auto-capitalization (key: `auto_caps`; type: `CheckBoxPreference`; default: `true`)
- Quick fixes and abbreviations (key: `quick_fix (from @string/settings_key_quick_fix)`; type: `CheckBoxPreference`; default: `true`; depends on: `candidates_on`)
- …on first language only (key: `settings_key_quick_fix_second_disabled (from @string/settings_key_quick_fix_second_disabled)`; type: `CheckBoxPreference`; default: `true`; depends on: `quick_fix`)
- Auto-select suggestion aggressiveness (key: `settings_key_auto_pick_suggestion_aggressiveness (from @string/settings_key_auto_pick_suggestion_aggressiveness)`; type: `ListPreference`; default: `medium_aggressiveness`; depends on: `candidates_on`)
- [beta] Correct by splitting typed word (key: `settings_key_try_splitting_words_for_correction (from @string/settings_key_try_splitting_words_for_correction)`; type: `CheckBoxPreference`; default: `false`; depends on: `candidates_on`)

### Language → Even more

- Fragment: `AdditionalLanguageSettingsFragment`
- XML: `ime/app/src/main/res/xml/prefs_addtional_language_prefs.xml`

#### Keyboard Behavior

- Show suggestions (key: `candidates_on`; type: `SwitchPreferenceCompat`; default: `true`)
- Suggestions restart (key: `settings_key_allow_suggestions_restart (from @string/settings_key_allow_suggestions_restart)`; type: `CheckBoxPreference`; default: `true`; depends on: `candidates_on`)
- Space switches keyboards (key: `settings_key_switch_keyboard_on_space (from @string/settings_key_switch_keyboard_on_space)`; type: `CheckBoxPreference`; default: `true`)
- Swap punctuation and space (key: `settings_key_bool_should_swap_punctuation_and_space (from @string/settings_key_bool_should_swap_punctuation_and_space)`; type: `CheckBoxPreference`; default: `true`)
- Double space to period (key: `double_space_to_period`; type: `CheckBoxPreference`; default: `true`)
- Remember alphabet layout per App (key: `settings_key_persistent_layout_per_package_id (from @string/settings_key_persistent_layout_per_package_id)`; type: `CheckBoxPreference`; default: `true`)

#### Hardware keys mapping

- Volume key for left/right (key: `settings_key_use_volume_key_for_left_right (from @string/settings_key_use_volume_key_for_left_right)`; type: `CheckBoxPreference`; default: `false`)

#### Speech Recognition

- (action) Third-party speech-to-text engine (key: `settings_key_speech_to_text_settings (from @string/settings_key_speech_to_text_settings)`; type: `Preference`)

#### (Ungrouped)

- (action) Tweaks (key: `tweaks (from @string/tweaks_group_key)`; type: `Preference`)

### Language → Language tweaks

- Fragment: `LanguageTweaksFragment`
- XML: `ime/app/src/main/res/xml/prefs_language_tweaks.xml`

#### Dictionary tweaks

- Use private User-Dictionary storage (key: `settings_key_always_use_fallback_user_dictionary (from @string/settings_key_always_use_fallback_user_dictionary)`; type: `CheckBoxPreference`; default: `true`)

#### Physical keyboard tweaks

- Use key repeat (key: `use_keyrepeat`; type: `CheckBoxPreference`; default: `true`)
- Hide keyboard on physical key (key: `settings_key_hide_soft_when_physical (from @string/settings_key_hide_soft_when_physical)`; type: `CheckBoxPreference`; default: `true`)
- Alt + Space switches languages (key: `settings_key_enable_alt_space_language_shortcut (from @string/settings_key_enable_alt_space_language_shortcut)`; type: `CheckBoxPreference`; default: `true`)
- Shift + Space switches languages (key: `settings_key_enable_shift_space_language_shortcut (from @string/settings_key_enable_shift_space_language_shortcut)`; type: `CheckBoxPreference`; default: `true`)

#### Behavior tweaks

- Space after candidate pick (key: `insert_space_after_word_suggestion_selection`; type: `CheckBoxPreference`; default: `true`)
- Cycle through all symbols (key: `settings_key_cycle_all_symbols (from @string/settings_key_cycle_all_symbols)`; type: `CheckBoxPreference`; default: `true`)
- Back-word support (key: `settings_key_use_backword (from @string/settings_key_use_backword)`; type: `CheckBoxPreference`; default: `true`)
- Layout for URL fields (key: `settings_key_layout_for_internet_fields (from @string/settings_key_layout_for_internet_fields)`; type: `ListPreference`; default: `c7535083-4fe6-49dc-81aa-c5438a1a343a`)

### Language → Next word

- Fragment: `NextWordSettingsFragment`
- XML: `ime/app/src/main/res/xml/prefs_next_word.xml`

#### Settings

- Next word suggestions (key: `settings_key_next_word_dictionary_type (from @string/settings_key_next_word_dictionary_type)`; type: `ListPreference`; default: `words`)
- Next word aggressiveness (key: `settings_key_next_word_suggestion_aggressiveness (from @string/settings_key_next_word_suggestion_aggressiveness)`; type: `ListPreference`; default: `medium_aggressiveness`)
- Third-party suggestion engine (key: `settings_key_prediction_engine_mode (from @string/settings_key_prediction_engine_mode)`; type: `ListPreference`; default: `ngram`)
- (action) Language models (key: `settings_key_manage_presage_models (from @string/settings_key_manage_presage_models)`; type: `Preference`)

#### (Ungrouped)

- (action) Clear next-word data (key: `clear_next_word_data`; type: `Preference`)

### Language → Next word → Models

- Fragment: `PresageModelsFragment`
- XML: `ime/app/src/main/res/xml/prefs_presage_models.xml`

#### Available downloads

- (static) Loading model catalog… (key: `catalog_status`; type: `Preference`)

### Speech → Speech-to-text

- Fragment: `SpeechToTextSettingsFragment`
- XML: `ime/app/src/main/res/xml/prefs_speech_to_text.xml`

#### (Ungrouped)

- Third-party speech-to-text engine (key: `settings_key_speech_to_text_backend (from @string/settings_key_speech_to_text_backend)`; type: `ListPreference`; default: `openai`)

#### Speech Recognition

- (action) OpenAI Speech-to-Text (key: `speech_to_text_openai_settings`; type: `Preference`)
- (action) ElevenLabs Speech-to-Text (key: `speech_to_text_elevenlabs_settings`; type: `Preference`)

### Speech → OpenAI

- Fragment: `OpenAISpeechSettingsFragment`
- XML: `ime/app/src/main/res/xml/prefs_openai_speech.xml`

#### Behavior Settings

- Add Trailing Space (key: `settings_key_openai_add_trailing_space (from @string/settings_key_openai_add_trailing_space)`; type: `CheckBoxPreference`; default: `true`)

#### API Settings

- API Key (key: `settings_key_openai_api_key (from @string/settings_key_openai_api_key)`; type: `EditTextPreference`)
- API Endpoint (key: `settings_key_openai_endpoint (from @string/settings_key_openai_endpoint)`; type: `EditTextPreference`; default: `https://api.openai.com/v1/audio/transcriptions`)
- Model (key: `settings_key_openai_model (from @string/settings_key_openai_model)`; type: `ListPreference`; default: `gpt-4o-transcribe`)
- Language (key: `settings_key_openai_language (from @string/settings_key_openai_language)`; type: `EditTextPreference`; default: `en`)
- Use Default Prompt (key: `settings_key_openai_use_default_prompt (from @string/settings_key_openai_use_default_prompt)`; type: `SwitchPreferenceCompat`; default: `false`)
- Default Prompt Type (key: `settings_key_openai_default_prompt_type (from @string/settings_key_openai_default_prompt_type)`; type: `ListPreference`; default: `whisper`; depends on: `settings_key_openai_use_default_prompt`)
- Append Custom Prompt (key: `settings_key_openai_append_custom_prompt (from @string/settings_key_openai_append_custom_prompt)`; type: `SwitchPreferenceCompat`; default: `true`; depends on: `settings_key_openai_use_default_prompt`)
- Prompt (key: `settings_key_openai_prompt (from @string/settings_key_openai_prompt)`; type: `OpenAIPromptEditTextPreference`)
- (action) Saved Prompts (key: `settings_key_openai_saved_prompts (from @string/settings_key_openai_saved_prompts)`; type: `Preference`)
- Temperature (key: `settings_key_openai_temperature (from @string/settings_key_openai_temperature)`; type: `EditTextPreference`; default: `0.0`)
- Response Format (key: `settings_key_openai_response_format (from @string/settings_key_openai_response_format)`; type: `ListPreference`; default: `text`)
- Chunking Strategy (key: `settings_key_openai_chunking_strategy (from @string/settings_key_openai_chunking_strategy)`; type: `ListPreference`; default: `none`)

#### Audio Settings

- Auto Punctuation (key: `settings_key_openai_auto_punctuation (from @string/settings_key_openai_auto_punctuation)`; type: `CheckBoxPreference`; default: `true`)
- Include Timestamps (key: `settings_key_openai_timestamps (from @string/settings_key_openai_timestamps)`; type: `CheckBoxPreference`; default: `false`)
- Copy Audio Files To (key: `settings_key_openai_copy_destination (from @string/settings_key_openai_copy_destination)`; type: `EditTextPreference`)

### Speech → ElevenLabs

- Fragment: `ElevenLabsSpeechSettingsFragment`
- XML: `ime/app/src/main/res/xml/prefs_elevenlabs_speech.xml`

#### API Settings

- API Key (key: `settings_key_elevenlabs_api_key (from @string/settings_key_elevenlabs_api_key)`; type: `EditTextPreference`)
- API Endpoint (key: `settings_key_elevenlabs_endpoint (from @string/settings_key_elevenlabs_endpoint)`; type: `EditTextPreference`; default: `https://api.elevenlabs.io/v1/speech-to-text`)
- Model (key: `settings_key_elevenlabs_model (from @string/settings_key_elevenlabs_model)`; type: `EditTextPreference`; default: `scribe_v1`)
- Language (key: `settings_key_elevenlabs_language (from @string/settings_key_elevenlabs_language)`; type: `EditTextPreference`)

#### Behavior Settings

- Add Trailing Space (key: `settings_key_elevenlabs_add_trailing_space (from @string/settings_key_elevenlabs_add_trailing_space)`; type: `SwitchPreferenceCompat`; default: `true`)

### Home → Tweaks

- Fragment: `MainTweaksFragment`
- XML: `ime/app/src/main/res/xml/prefs_main_tweaks.xml`

#### (Ungrouped)

- Force Locale (key: `settings_key_force_locale (from @string/settings_key_force_locale)`; type: `ListPreference`; default: `System`)
- Show keyboard icon in status-bar (key: `settings_key_keyboard_icon_in_status_bar (from @string/settings_key_keyboard_icon_in_status_bar)`; type: `CheckBoxPreference`; default: `false`)
- Settings app (key: `settings_key_show_settings_app (from @string/settings_key_show_settings_app)`; type: `CheckBoxPreference`; default: `true`)
- Report on crash (key: `settings_key_show_chewbacca (from @string/settings_key_show_chewbacca)`; type: `CheckBoxPreference`; default: `true`)
- (action) Developer tools (key: `dev_tools`; type: `Preference`)

### UI → Effects

- Fragment: `EffectsSettingsFragment`
- XML: `ime/app/src/main/res/xml/prefs_effects_prefs.xml`

#### Effects

- Use system vibration (key: `settings_key_use_system_vibration (from @string/settings_key_use_system_vibration)`; type: `CheckBoxPreference`; default: `false`)
- Vibrate on key-press (key: `settings_key_vibrate_on_key_press_duration_int (from @string/settings_key_vibrate_on_key_press_duration_int)`; type: `SlidePreference`; default: `0`; depends on: `settings_key_use_system_vibration`)
- Sound on key-press (key: `sound_on (from @string/settings_key_sound_on)`; type: `CheckBoxPreference`; default: `false`)
- Vibrate on long-press (key: `settings_key_vibrate_on_long_press (from @string/settings_key_vibrate_on_long_press)`; type: `CheckBoxPreference`; default: `true`)
- Animations (key: `settings_key_tweak_animations_level (from @string/settings_key_tweak_animations_level)`; type: `ListPreference`; default: `some`)
- (action) Power-Saving settings (key: `settings_key_power_save_mode (from @string/settings_key_power_save_mode)`; type: `Preference`)
- (action) Night-Mode settings (key: `settings_key_night_mode (from @string/settings_key_night_mode)`; type: `Preference`)
- Draw behind the navigation-bar (key: `settings_key_colorize_nav_bar (from @string/settings_key_colorize_nav_bar)`; type: `CheckBoxPreference`; default: `false`)
- Keyboard bottom offset (key: `settings_key_bottom_extra_padding_in_portrait (from @string/settings_key_bottom_extra_padding_in_portrait)`; type: `SlidePreference`; default: `0`; depends on: `settings_key_colorize_nav_bar`)
- Select pop-text type (key: `settings_key_pop_text_option (from @string/settings_key_pop_text_option)`; type: `ListPreference`; default: `on_correction`)

### UI → Effects → Power saving

- Fragment: `PowerSavingSettingsFragment`
- XML: `ime/app/src/main/res/xml/power_saving_prefs.xml`

#### (Ungrouped)

- Enable Power-Saving mode (key: `settings_key_power_save_mode (from @string/settings_key_power_save_mode)`; type: `ListPreference`; default: `on_low_battery`)
- (static) Power-Saving mode will reduce the energy consumption of New Soft Keyboard by disabling features: (key: `power_saving_description`; type: `Preference`)
- Switch to dark, simple theme (key: `settings_key_power_save_mode_theme_control (from @string/settings_key_power_save_mode_theme_control)`; type: `CheckBoxPreference`; default: `true`)
- Disable word suggestions (key: `settings_key_power_save_mode_suggestions_control (from @string/settings_key_power_save_mode_suggestions_control)`; type: `CheckBoxPreference`; default: `true`)
- Disable Gesture-Typing (key: `settings_key_power_save_mode_gesture_control (from @string/settings_key_power_save_mode_gesture_control)`; type: `CheckBoxPreference`; default: `true`)
- Disable key-press sounds (key: `settings_key_power_save_mode_sound_control (from @string/settings_key_power_save_mode_sound_control)`; type: `CheckBoxPreference`; default: `true`)
- Disable key-press vibrations (key: `settings_key_power_save_mode_vibration_control (from @string/settings_key_power_save_mode_vibration_control)`; type: `CheckBoxPreference`; default: `true`)
- Disable animations and key-previews (key: `settings_key_power_save_mode_animation_control (from @string/settings_key_power_save_mode_animation_control)`; type: `CheckBoxPreference`; default: `true`)

### UI → Effects → Night mode

- Fragment: `NightModeSettingsFragment`
- XML: `ime/app/src/main/res/xml/night_mode_prefs.xml`

#### (Ungrouped)

- Enable Night-Mode (key: `settings_key_night_mode (from @string/settings_key_night_mode)`; type: `ListPreference`; default: `never`)
- (static) Night-Mode will change these features: (key: `night_mode_description`; type: `Preference`)
- Darken Settings App UI (key: `settings_key_night_mode_app_theme_control (from @string/settings_key_night_mode_app_theme_control)`; type: `CheckBoxPreference`; default: `true`)
- Darken keyboard theme (key: `settings_key_night_mode_theme_control (from @string/settings_key_night_mode_theme_control)`; type: `CheckBoxPreference`; default: `false`)
- Disable key-press sounds (key: `settings_key_night_mode_sound_control (from @string/settings_key_night_mode_sound_control)`; type: `CheckBoxPreference`; default: `true`)
- Disable key-press vibrations (key: `settings_key_night_mode_vibration_control (from @string/settings_key_night_mode_vibration_control)`; type: `CheckBoxPreference`; default: `true`)

### UI → Even more

- Fragment: `AdditionalUiSettingsFragment`
- XML: `ime/app/src/main/res/xml/prefs_addtional_ui_addons_prefs.xml`

#### (Ungrouped)

- (action) Common top generic row (key: `settings_key_ext_kbd_top_row_key`; type: `Preference`)
- (action) Swipe-up extension keyboard (key: `settings_key_ext_kbd_extension_key`; type: `Preference`)
- (action) Common bottom generic row (key: `settings_key_ext_kbd_bottom_row_key`; type: `Preference`)
- Keyboards can provide generic rows (key: `settings_key_allow_layouts_to_provide_generic_rows (from @string/settings_key_allow_layouts_to_provide_generic_rows)`; type: `CheckBoxPreference`; default: `true`)
- (action) Enabled specialized input-field modes (key: `settings_key_supported_row_modes`; type: `Preference`)
- (action) Tweaks (key: `tweaks (from @string/tweaks_group_key)`; type: `Preference`)

### UI → Even more → UI tweaks

- Fragment: `UiTweaksFragment`
- XML: `ime/app/src/main/res/xml/prefs_ui_tweaks.xml`

#### Sound related tweaks

- Set custom volume (key: `use_custom_sound_volume (from @string/settings_key_use_custom_sound_volume)`; type: `CheckBoxPreference`; default: `false`)
- Custom key-press volume (key: `custom_sound_volume`; type: `SlidePreference`; default: `50`; depends on: `use_custom_sound_volume`)

#### Graphical tweaks

- Use Top-Extension keyboard (key: `settings_key_extension_keyboard_enabled (from @string/settings_key_extension_keyboard_enabled)`; type: `CheckBoxPreference`; default: `true`)
- Make Top-Extension keyboard sticky (key: `settings_key_is_sticky_extesion_keyboard (from @string/settings_key_is_sticky_extesion_keyboard)`; type: `CheckBoxPreference`; default: `false`)
- Use full-screen editor in portrait (key: `settings_key_portrait_fullscreen (from @string/settings_key_portrait_fullscreen)`; type: `CheckBoxPreference`; default: `false`)
- Use full-screen editor in landscape (key: `settings_key_landscape_fullscreen (from @string/settings_key_landscape_fullscreen)`; type: `CheckBoxPreference`; default: `true`)

#### Behavior tweaks

- Multi-tap timeout (key: `settings_key_multitap_timeout (from @string/settings_key_multitap_timeout)`; type: `ListPreference`; default: `700`)
- Long-press time (key: `settings_key_long_press_timeout (from @string/settings_key_long_press_timeout)`; type: `ListPreference`; default: `350`)
- Language switch by popup (key: `lang_key_shows_popup (from @string/settings_key_lang_key_shows_popup)`; type: `CheckBoxPreference`; default: `false`)
- Domain text (key: `default_domain_text`; type: `EditTextPreference`; default: `.com`)
- Always hide language-key (key: `settings_key_always_hide_language_key (from @string/settings_key_always_hide_language_key)`; type: `CheckBoxPreference`; default: `false`)
- Portrait Split/Merge initial state (key: `settings_key_default_split_state_portrait (from @string/settings_key_default_split_state_portrait)`; type: `ListPreference`; default: `merged_always`)
- Landscape Split/Merge initial state (key: `settings_key_default_split_state_landscape (from @string/settings_key_default_split_state_landscape)`; type: `ListPreference`; default: `merged_always`)
- Sync clipboard with OS (key: `settings_key_os_clipboard_sync (from @string/settings_key_os_clipboard_sync)`; type: `CheckBoxPreference`; default: `true`)

#### Workarounds

- Use Android\'s Right-to-Left handling (key: `settings_key_workaround_disable_rtl_fix (from @string/settings_key_workaround_disable_rtl_fix)`; type: `CheckBoxPreference`; default: `true`)

### UI → Theme tweaks

- Fragment: `KeyboardThemeTweaksFragment`
- XML: `ime/app/src/main/res/xml/prefs_keyboard_theme_tweaks.xml`

#### (Ungrouped)

- Key preview popup (key: `key_press_preview_popup (from @string/settings_key_key_press_shows_preview_popup)`; type: `CheckBoxPreference`; default: `true`)
- Key preview position (key: `settings_key_key_press_preview_popup_position (from @string/settings_key_key_press_preview_popup_position)`; type: `ListPreference`; default: `above_key`; depends on: `key_press_preview_popup`)
- Show hint text (key: `settings_key_show_hint_text_key (from @string/settings_key_show_hint_text_key)`; type: `CheckBoxPreference`; default: `true`)
- Override hint position (key: `settings_key_use_custom_hint_align (from @string/settings_key_use_custom_hint_align_key)`; type: `CheckBoxPreference`; default: `false`; depends on: `settings_key_show_hint_text_key`)
- Custom horizontal hint alignment (key: `settings_key_custom_hint_align_key (from @string/settings_key_custom_hint_align_key)`; type: `ListPreference`; default: `17`; depends on: `settings_key_use_custom_hint_align`)
- Custom vertical hint alignment (key: `settings_key_custom_hint_valign_key (from @string/settings_key_custom_hint_valign_key)`; type: `ListPreference`; default: `48`; depends on: `settings_key_use_custom_hint_align`)
- Keyboard letter-case override (key: `settings_key_theme_case_type_override (from @string/settings_key_theme_case_type_override)`; type: `ListPreference`; default: `theme`)
- Show keyboard name (key: `settings_key_show_keyboard_name_text_key (from @string/settings_key_show_keyboard_name_text_key)`; type: `CheckBoxPreference`; default: `true`)
- Hint label size (key: `settings_key_hint_size (from @string/settings_key_hint_size)`; type: `ListPreference`; default: `big`)
- Keys height factor in portrait mode (key: `settings_key_zoom_percent_in_portrait (from @string/settings_key_zoom_percent_in_portrait)`; type: `SlidePreference`; default: `100`)
- Keys height factor in landscape mode (key: `settings_key_zoom_percent_in_landscape (from @string/settings_key_zoom_percent_in_landscape)`; type: `SlidePreference`; default: `100`)

### Quick keys → Settings

- Fragment: `QuickTextSettingsFragment`
- XML: `ime/app/src/main/res/xml/prefs_quick_text_addons_prefs.xml`

#### (Ungrouped)

- Auto close after key-press (key: `settings_key_one_shot_quick_text_popup (from @string/settings_key_one_shot_quick_text_popup)`; type: `CheckBoxPreference`; default: `false`)
- Suggest Emojis by tag typing (key: `settings_key_search_quick_text_tags (from @string/settings_key_search_quick_text_tags)`; type: `CheckBoxPreference`; default: `false`)
- Initial group (key: `settings_key_initial_quick_text_tab (from @string/settings_key_initial_quick_text_tab)`; type: `ListPreference`; default: `last_used`)
- Emoji default gender (key: `settings_key_default_emoji_gender (from @string/settings_key_default_emoji_gender)`; type: `ListPreference`; default: `person`)
- Emoji default skin-tone (key: `settings_key_default_emoji_skin_tone (from @string/settings_key_default_emoji_skin_tone)`; type: `ListPreference`; default: `generic`)
- Long-press smiley popup (key: `settings_key_do_not_flip_quick_key_codes_functionality (from @string/settings_key_do_not_flip_quick_key_codes_functionality)`; type: `CheckBoxPreference`; default: `true`)
- Smiley text (key: `settings_key_emoticon_default_text (from @string/settings_key_emoticon_default_text)`; type: `EditTextPreference`)

## Non-Preference settings (custom screens)

These screens are part of the Settings navigation tree, but their adjustable state is not declared in
Preference XML. They still write to SharedPreferences (or to app data stores) and should be considered
“user-adjustable variables” for the overhaul.

### Language → Keyboards (add-on browser)

- Screen: `KeyboardAddOnBrowserFragment` (multi-select + reorder)
- Persists:
  - One boolean per keyboard add-on: `keyboard_<addonId>` (prefix from `KeyboardFactory.PREF_ID_PREFIX`)
  - Ordering: `keyboard_AddOnsFactory_order_key` (comma-separated ids)
- Sources:
  - Factory: `ime/app/src/main/java/wtf/uhoh/newsoftkeyboard/app/keyboards/KeyboardFactory.java`
  - Persistence rules: `ime/addons/src/main/java/wtf/uhoh/newsoftkeyboard/addons/AddOnsFactory.java`
    and `ime/addons/src/main/java/wtf/uhoh/newsoftkeyboard/addons/MultipleAddOnsFactory.java`

### UI → Themes (theme selector)

- Screen: `KeyboardThemeSelectorFragment` (single-select)
- Persists:
  - One boolean per theme add-on: `theme_<addonId>` (prefix from `KeyboardThemeFactory.PREF_ID_PREFIX`)
    (exactly one should be enabled at a time; implemented by `SingleAddOnsFactory`)
  - “Adapt theme to remote app colors”: `settings_key_apply_remote_app_colors` (boolean)
    (declared in code, not in Preference XML)
- Sources:
  - `ime/app/src/main/java/wtf/uhoh/newsoftkeyboard/app/ui/settings/KeyboardThemeSelectorFragment.java`
  - `ime/app/src/main/java/wtf/uhoh/newsoftkeyboard/app/theme/KeyboardThemeFactory.java`

### UI → Even more → Extensions / Top row / Bottom row

- Screens:
  - `AdditionalUiSettingsFragment$ExtensionAddOnBrowserFragment`
  - `AdditionalUiSettingsFragment$TopRowAddOnBrowserFragment`
  - `AdditionalUiSettingsFragment$BottomRowAddOnBrowserFragment`
- Persists (single-select per type):
  - `ext_kbd_enabled_extension_<addonId>`
  - `ext_kbd_enabled_top_<addonId>`
  - `ext_kbd_enabled_bottom_<addonId>`
- Sources:
  - `ime/app/src/main/java/wtf/uhoh/newsoftkeyboard/app/keyboardextensions/KeyboardExtensionFactory.java`

### Quick keys (quick text keys browser)

- Screen: `QuickTextKeysBrowseFragment` (multi-select + reorder)
- Persists:
  - One boolean per quick-text key add-on: `quick_text_<addonId>`
  - Ordering: `quick_text_AddOnsFactory_order_key`
  - Extra user prefs (tab behavior, tag search, etc) are in Preference XML under “Quick keys → Settings”.
- Sources:
  - `ime/app/src/main/java/wtf/uhoh/newsoftkeyboard/app/quicktextkeys/QuickTextKeyFactory.java`

### Dictionaries editors (user data)

- Screens:
  - `UserDictionaryEditorFragment` (user dictionary words)
  - `AbbreviationDictionaryEditorFragment` (abbreviation expansions)
- Persists:
  - App-managed database/content-provider entries (not SharedPreferences keys).
